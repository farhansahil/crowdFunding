import {
  AbstractConnector
} from "./chunk-IGENY7QT.js";
import "./chunk-E4YFJ4DO.js";
import "./chunk-LPPLLAJT.js";
import "./chunk-IKJM6GHQ.js";

// node_modules/@web3-react/torus-connector/dist/torus-connector.esm.js
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
    o2.__proto__ = p2;
    return o2;
  };
  return _setPrototypeOf(o, p);
}
var TorusConnector = function(_AbstractConnector) {
  _inheritsLoose(TorusConnector2, _AbstractConnector);
  function TorusConnector2(_ref) {
    var _this;
    var chainId = _ref.chainId, _ref$initOptions = _ref.initOptions, initOptions = _ref$initOptions === void 0 ? {} : _ref$initOptions, _ref$constructorOptio = _ref.constructorOptions, constructorOptions = _ref$constructorOptio === void 0 ? {} : _ref$constructorOptio, _ref$loginOptions = _ref.loginOptions, loginOptions = _ref$loginOptions === void 0 ? {} : _ref$loginOptions;
    _this = _AbstractConnector.call(this, {
      supportedChainIds: [chainId]
    }) || this;
    _this.chainId = chainId;
    _this.initOptions = initOptions;
    _this.constructorOptions = constructorOptions;
    _this.loginOptions = loginOptions;
    return _this;
  }
  var _proto = TorusConnector2.prototype;
  _proto.activate = function activate() {
    try {
      var _this3 = this;
      var _temp3 = function _temp32() {
        return Promise.resolve(_this3.torus.login(_this3.loginOptions).then(function(accounts) {
          return accounts[0];
        })).then(function(account) {
          return {
            provider: _this3.torus.provider,
            account
          };
        });
      };
      var _temp4 = function() {
        if (!_this3.torus) {
          return Promise.resolve(import("./torus.esm-OPMAS7EH.js").then(function(m) {
            var _m$default;
            return (_m$default = m == null ? void 0 : m["default"]) != null ? _m$default : m;
          })).then(function(Torus) {
            _this3.torus = new Torus(_this3.constructorOptions);
            return Promise.resolve(_this3.torus.init(_this3.initOptions)).then(function() {
            });
          });
        }
      }();
      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));
    } catch (e) {
      return Promise.reject(e);
    }
  };
  _proto.getProvider = function getProvider() {
    try {
      var _this5 = this;
      return Promise.resolve(_this5.torus.provider);
    } catch (e) {
      return Promise.reject(e);
    }
  };
  _proto.getChainId = function getChainId() {
    try {
      var _this7 = this;
      return Promise.resolve(_this7.chainId);
    } catch (e) {
      return Promise.reject(e);
    }
  };
  _proto.getAccount = function getAccount() {
    try {
      var _this9 = this;
      return Promise.resolve(_this9.torus.ethereum.request({
        method: "eth_accounts"
      }).then(function(accounts) {
        return accounts[0];
      }));
    } catch (e) {
      return Promise.reject(e);
    }
  };
  _proto.deactivate = function deactivate() {
    return Promise.resolve();
  };
  _proto.close = function close() {
    try {
      var _this11 = this;
      return Promise.resolve(_this11.torus.cleanUp()).then(function() {
        _this11.torus = void 0;
        _this11.emitDeactivate();
      });
    } catch (e) {
      return Promise.reject(e);
    }
  };
  return TorusConnector2;
}(AbstractConnector);
export {
  TorusConnector
};
//# sourceMappingURL=torus-connector.esm-6ODK5E6P.js.map
